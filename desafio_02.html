<script>
    /*
    Investimento Financeiro
    Crie um programa que pergunte ao usuário qual a quantia de dinheiro que possui guardado no colchão e que agora deseja manter este dinheiro aplicado em um investimento financeiro. O programa deve perguntar qual o tipo de investimento que o usuário deseja realizar:
    1- Poupança: rende 3% ao ano
    2- Renda Fixa: rende 5% ao ano
    3- Fundos Imobiliários: rende 7% ao ano
    4- Ações: rende 10% ao ano

    Caso o usuário informe este dado de forma incorreta, o programa deve perguntar novamente qual o tipo de investimento que o usuário deseja realizar. Caso informe incorretamente por três vezes consecutivas, o programa deve ser encerrado.

    O programa deverá apresentar uma projeção do valor investido após um ano de aplicação para cada tipo de investimento.
    Também deverá perguntar ao usuário se deseja sacar alguma quantia investida durante o ano. Caso o usuário deseja sacar, o programa não poderá aceitar os seguintes tipos de investimento:
    3- Fundos Imobiliários
    4- Ações
    Se o usuário informar um destes tipos de investimento, o programa deverá perguntar novamente qual o tipo de investimento que o usuário deseja realizar. Caso informe incorretamente por três vezes consecutivas, o programa deve ser encerrado.

    O programa deve calcular o rendimento anual do investimento escolhido e mostrar o valor total do investimento após um ano.

    Considere que há o pagamento de impostos sobre o lucro obtido (O lucro se refere apenas a diferença entre o valor investido após um ano e o investimento inicial). Pergunte para o usuário se ele deseja que o programa simule já o valor a ser pago de imposto e deduza este valor do valor total do investimento após um ano. Caso o usuário responda positivamente, o programa deverá perguntar qual o percentual de imposto que deve ser pago sobre o lucro obtido. Caso o usuário informe um valor inválido, o programa deverá perguntar novamente qual o percentual de imposto que deve ser pago sobre o lucro obtido. Caso informe incorretamente por três vezes consecutivas, o programa deve ser encerrado.

    Após, o programa deverá perguntar ao usuário se, no início do segundo ano, deseja aportar (adicionar) mais alguma quantia para o investimento que realizou. Se responder positivamente, o programa deverá perguntar qual o valor que deseja aportar e calcular o rendimento anual do investimento escolhido e mostrar o valor total do investimento após o final do segundo ano. Caso informe o valor incorreto por três vezes consecutivas. Caso o usuário tenha escolhido a opção de simular o valor a ser pago de imposto, o programa deverá perguntar novamente qual o percentual de imposto que deve ser pago sobre o lucro obtido. Caso o usuário informe um valor inválido, o programa deverá perguntar novamente qual o percentual de imposto que deve ser pago sobre o lucro obtido. Caso informe incorretamente por três vezes consecutivas, o programa deve ser encerrado.

    O programa deverá perguntar para o usuário se no início do terceiro ano ele desejará realizar algum aporte. Se responder positivamente, o programa deverá recalcular o rendimento do investimento já com a quantia aportada pelo usuário. Caso informe o valor incorreto por três vezes consecutivas o programa será encerrado. Caso o usuário tenha escolhido a opção de simular o valor a ser pago de imposto, o programa deverá considerar o imposto respectivo do tipo de investimento que realizou. Caso o usuário informe um valor inválido, o programa deverá perguntar novamente qual o percentual de imposto que deve ser pago sobre o lucro obtido. Caso informe incorretamente por três vezes consecutivas, o programa deve ser encerrado.

    Calcule e mostre o valor total do investimento após o terceiro ano. Pergunte ao usuário se ele deseja saber quanto foi pago de imposto no decorrer do tempo em que manteve o investimento. Caso o usuário responda positivamente, mostre o valor total pago de imposto. Pergunte, também, se o usuário deseja saber o percentual pago de imposto e apresente este valor. Caso o usuário responda positivamente, mostre o percentual pago de imposto. Faça uma relação sobre o imposto pago e o rendimento obtido e aponte se o investimento foi vantajoso ou não e qual a diferença entre os dois.

    */

   let dinheiroColchao = Number(prompt(`Informe o valor que dinheiro que você tem embaixo do colchão:`).trim().replace(",","."));
   let investimento = prompt(`Informe o tipo de investimento finaceiro, Poupança, Renda Fixa, Fundos Imobiliários, Ações:`).trim().toLowerCase();
   let verificacao1 = 'incompleta';
   if(investimento === 'poupança' || investimento === 'renda fixa' || investimento === 'fundos imobiliários' || investimento === 'ações'){
     verificacao1 = 'completa';
   }
   else{
       investimento = prompt(`Informe o tipo de investimento finaceiro, Poupança, Renda Fixa, Fundos Imobiliários, Ações:`).trim().toLowerCase();
       if(investimento === 'poupança' || investimento === 'renda fixa' || investimento === 'fundos imobiliários' || investimento === 'ações'){
           verificacao1 = 'completa';
       }
       else{
           investimento = prompt(`Informe o tipo de investimento finaceiro, Poupança, Renda Fixa, Fundos Imobiliários, Ações:`).trim().toLowerCase();
           if(investimento === 'poupança' || investimento === 'renda fixa' || investimento === 'fundos imobiliários' || investimento === 'ações'){
               verificacao1 = 'completa';
           }
           else{
               window.stop();
           }
       }
   }
   let dinheiro
   if(verificacao1 === 'completa'){
      if(investimento === 'poupança'){
           dinheiro = dinheiroColchao * 1.03;
           alert(`Após um ano você terá de dinheiro R$ ${dinheiro.toFixed(2).replace(".",",")}.`);
       }
       else if(investimento === 'renda fixa'){
             dinheiro = dinheiroColchao * 1.05;
           alert(`Após um ano você terá de dinheiro R$ $ ${dinheiro.toFixed(2).replace(".",",")}.`);
       }
       else if(investimento === 'fundos imobiliários'){
            dinheiro = dinheiroColchao * 1.07;
           alert(`Após um ano você terá de dinheiro R$ ${dinheiro.toFixed(2).replace(".",",")}.`);
       }
       else{
            dinheiro = dinheiroColchao * 1.10;
           alert(`Após um ano você terá de dinheiro R$ ${dinheiro.toFixed(2).replace(".",",")}.`);
       }
   }
   let quantia=''
   let verificacao2 = 'incompleta'
   let quantiaSacar = prompt('Deseja sacar alguma quantia investida durante o ano? ').trim().toLowerCase();
   if(quantiaSacar === 'sim'){
    quantia = Number(prompt('Qual a quantia que deseja sacar?').trim().replace(".",","));

    let sacar = prompt('Insira o tipo de investimento');
   if(sacar === 'poupança' || sacar === 'renda fixa'){
       verificacao2 = 'completa';
   }
   else{
       sacar = prompt('Insira novamente o tipo de investimento:');
       if(sacar === 'poupança' || sacar === 'renda fixa'){
           verificacao2 = 'completa';
       }
       else{
           sacar = prompt('Insira novamente o tipo de investimento:');
           if(sacar === 'poupança' || sacar === 'renda fixa'){
           verificacao2 = 'completa';
       }
           else{
               window.stop();
           }
       }
   }
     if (verificacao2 === 'completa') {
            if (sacar === 'poupança') {

                alert(` Após um ano você terá de dinheiro R$ ${(dinheiro - quantia).toFixed(2).replace(".", ",")}. `);
            }
            else if (sacar === 'renda fixa') {
                alert(` Após um ano você terá de dinheiro R$ ${(dinheiro - quantia).toFixed(2).replace(".", ",")}. `);
            }
        }

   }

    let imposto = prompt('Deseja que o programa simule o valor a ser pago de imposto e reduza este valor do valor total do investimento após um ano? DIGITE SIM OU NÃO: ').trim().toLowerCase();
    
    let percentual
    if (imposto === 'sim') {
        percentual = Number(prompt('Qual o percentual de imposto a ser pago sobre o lucro obtido? Responda somente o número').trim().replace(',', '.'));
        if (percentual < 100 || percentual > 0) {
            verificacao3 = 'completa';
        }
        else {
            percentual = Number(prompt('Qual o percentual de imposto a ser pago sobre o lucro obtido? Responda somente o número').trim().replace(',', '.'));
            if (percentual < 100 || percentual > 0) {
                verificacao3 = 'completa';
            }
            else {
                percentual = Number(prompt('Qual o percentual de imposto a ser pago sobre o lucro obtido? Responda somente o número').trim().replace(',', '.'));
                 if (percentual < 100 || percentual > 0) {
                    verificacao3 = 'completa';
                }
                else{
                    window.stop();
                }
            }
        }
    }
    else{
        alert(`Valor total do investimento após um ano: R$${dinheiro.toFixed(2).replace('.',',')}`);
    }
    
    if(verificacao3 === 'completa'){
        const lucro = dinheiro * percentual /100;
        dinheiro = dinheiro - lucro;
       alert(`Valor a ser pago de imposto: R$${lucro.toFixed(2).replace('.',',')}.\nValor total do investimento após um ano: R$${dinheiro.toFixed(2).replace('.',',')}.`);    
    }
   
    let segundoAno = prompt('Ao início do segundo ano deseja adicionar mais alguma quantia ao investimento que realizou? RESPONDA SIM OU NÃO!').trim().toLowerCase();
    let investimento2 
    if(segundoAno === 'sim'){
        //(investimentofinal do primeiro ano + valor investido) * rendimento anual / (103 + 10) * 1.03 (<-- poupanca) == investimento anual do segundo ano
    }
  





</script>
